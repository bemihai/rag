chroma:
  client:
    host: ${oc.env:CHROMA_HOST, localhost}               # ChromaDB server host (env var or default)
    port: ${oc.env:CHROMA_PORT, 8000}               # ChromaDB server port (env var or default)
  chunking:
    strategy: by_title                  # basic, by_title, semantic
    chunk_size: 1024
    chunk_overlap: 256
  retrieval:
    n_results: 5                        # number of chunks to retrieve per query
    similarity_threshold: 0.3           # minimum similarity score (0.0-1.0) to filter results
    deduplication_threshold: 0.9        # similarity threshold for removing duplicate chunks (optional)
    use_deduplication: false            # enable semantic deduplication of retrieved chunks
  settings:
    batch_size: 2500
    embedder: ${oc.env:EMBEDDING_MODEL} # embedding agents for retrieval
  collections:
    - name: wine_books                  # primary collection name to query
      local_data_path: ${oc.env:WINE_BOOKS_PATH}
      metadata:
        description: "Professional wine books collection"
        hnsw:space: cosine              # similarity measure (cosine, l2, ip)
        hnsw:search_ef: 100             # num candidates for searching
        hnsw:construction_ef: 200       # increased for better indexing
        hnsw:num_threads: 8             # num of threads for indexing
        version: v1.1

model:
  provider: google                      # LLM provider (google, openai)
  name: gemini-2.5-flash                # agents name

initial_message:
  answer: "Hi there! Ask me anything about wine."

cellar:
  db_path: cellar-data/wine_cellar.db        # path to SQLite database for wine cellar